## 第五章

**7.** 

Via router B：$(11,6,14,18,12,8)$
Via router D：$(19,15,9,3,12,13)$
Via router E：$(12,11,8,14,5,9)$
取最小
| 目的地       | 成本 | 线路 |
| -------- | ---- | ---- |
| A            | 11   | B    |
| B           | 6    | B    |
| C          | 0    | N/A  |
| D            | 3    | D    |
| E            | 5    | E    |
| F           | 8    | B    |



**17.**$ECN$和$RED$之间最主要的区别：ECN通过显式的信号，即发送带标记的数据包来通知拥塞；而RED通过随机丢包来提示发送方。
$ECN$只有在没有缓存时才会丢包，而$RED$会随机丢包。




**21.** $450MB / (15-5) MBps = 30s$ 令牌桶耗尽，此时发送$15MBps * 30s = 450MB$

耗尽后需用时$(1000 - 450)MB / 5MBps = 110s$

共需要$110+30=140s$。



**27.** 数据包是可分段，$DF$均为$0$；

$\mathsf{A}$-$\mathsf{R1}$：只需一个包。

| IP头总长度 | 标识符 | DF   | MF   | Offset |
| ------ | ------ | ---- | ---- | ------ |
| 20    | 0      | 0    | 0    | 0      |

$\mathsf{R1}$-$\mathsf{R2}$：
最大$512 - 8 = 504$; $504 - 20 = 484$ 得段偏移$484 / 8 = 60$  

| IP头总长度 | 标识符 | DF   | MF   | Offset |
| ------ | ------ | ---- | ---- | ------ |
| 20    | 1      | 0    | 1    | 0      |
| 20    | 1      | 0    | 0    | 60     |

$\mathsf{R2}$-$\mathsf{B}$：
最大$512 - 12 = 500$; $500 - 20 = 480$ 得段偏移$480 / 8 = 60$ 

| IP头总长度 | 标识符 | DF   | MF   | Offset |
| ------ | ------ | ---- | ---- | ------ |
| 20    | 2      | 0    | 1    | 0      |
| 20    | 2      | 0    | 0    | 60     |



**33.** 最多能处理$2^{12}-2=4094$台主机。



**35.** 分别给四个组织分配4096,2048,4096,8192个地址。

| 组织 | 第一个地址     | 最后一个地址     | 掩码          |
| ---- | -------------- | ---------------- | ------------- |
| A    | 198.16.0.0/20  | 198.16.15.255/20 | 255.255.240.0 |
| B    | 198.16.16.0/21 | 198.16.23.255/21 | 255.255.248.0 |
| C    | 198.16.24.0/20 | 198.16.39.255/18 | 255.255.192.0 |
| D    | 198.16.40.0/19 | 198.16.71.255/17 | 255.255.128.0 |

//这题错了 正确答案懒得补充 头部不能重叠

**36.** 可被聚合到$57.6.96.0/19$上。



**第5版 33.**

*(a)* 在135.46.60.0/22内，Interface 1

*(b)* Interface 0

*(c)* Router 2

*(d)* Router 1

*(e)* Router 2



## 第六章

**32.** $2,4,8,16,32$,需四个周期，

故时间$ = 4\times10=40ms$



**33.** 超时后，拥塞窗口阈值设置为$18/2 = 9KB$,拥塞窗口被重设为$1KB$。四次成功传输，拥塞窗口大小变为$2,4,8,9KB$。最终为$9KB$。



**35.** $SRTT=\alpha SRTT+(1-\alpha)RTT$得

代入,更新$SRTT = 29.6ms->29.84ms->29.26ms$

新的RTT估计值为$29.26ms$



**39.** 8位序号最多可表示256个不同报文，因此最大数据速率为$\frac{256\times128}{30}=1092.27B/s$

